import{W as u,j as e,a as t}from"./app-CtIsrYJ3.js";import{H as b}from"./Header.Layout-Bv1ycZxS.js";import{F as h}from"./FormSelect-Ga-QJp0O.js";import{F as n}from"./FormInputField-Cg32BD71.js";import{F as o}from"./FlashMessage-BIO-Lhex.js";const y=({kari_names:i,sortings:c})=>{const{data:r,setData:l,post:m,processing:x,errors:s}=u({day:"",kari_name:"",kari_price:"",kashi_name:"",kashi_price:"",remarks:""}),j=a=>{a.preventDefault(),m(route("sorting"))};return e.jsx(b,{className:"bg-primary text-bg-primary",children:e.jsxs("div",{className:"container p-5",children:[e.jsx(o,{}),e.jsx("h2",{children:"複式簿記"}),e.jsxs("form",{onSubmit:j,children:[e.jsx("table",{className:"table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"day",children:"取引日時"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.day&&e.jsx("dd",{className:"text-danger",children:s.day})]}),e.jsx("td",{children:e.jsx(n,{type:"date",name:"day",id:"day",value:r.day,onChange:a=>l("day",a.target.value)})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kari_name",children:"借方名"}),e.jsx("span",{className:"required text-danger",children:"* "}),s.kari_name&&e.jsx("dd",{className:"text-danger",children:s.kari_name})]}),e.jsx("td",{children:e.jsx(h,{name:"kari_name",value:r.kari_name,onChange:a=>l("kari_name",a.target.value),options:i.map(a=>({value:a.name,label:a.name}))})}),e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kashi_name",children:"貸方名"}),e.jsx("span",{className:"required text-danger",children:"* "}),s.kashi_name&&e.jsx("dd",{className:"text-danger",children:s.kashi_name})]}),e.jsx("td",{children:e.jsx(h,{name:"kashi_name",value:r.kashi_name,onChange:a=>l("kashi_name",a.target.value),options:i.map(a=>({value:a.name,label:a.name}))})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kari_price",children:"借方金額"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.kari_price&&e.jsx("dd",{className:"text-danger",children:s.kari_price})]}),e.jsx("td",{children:e.jsx(n,{type:"number",name:"kari_price",placeholder:"1000",value:r.kari_price,onChange:a=>l("kari_price",a.target.value)})}),e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kashi_price",children:"貸方金額"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.kashi_price&&e.jsx("dd",{className:"text-danger",children:s.kashi_price})]}),e.jsx("td",{children:e.jsx(n,{type:"number",name:"kashi_price",placeholder:"1000",value:r.kashi_price,onChange:a=>l("kashi_price",a.target.value)})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"remarks",children:"備考"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.remarks&&e.jsx("dd",{className:"text-danger",children:s.remarks})]}),e.jsx("td",{children:e.jsx(n,{type:"text",name:"remarks",placeholder:"〇月家賃",value:r.remarks,onChange:a=>l("remarks",a.target.value)})})]})]})}),e.jsx("div",{className:"",children:e.jsx("div",{className:""})}),e.jsx("button",{type:"submit",className:"btn btn-primary px-4",disabled:x,children:"送信"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{children:"仕分け一覧"}),e.jsx("div",{className:"pagination py-2",children:c.links.map((a,d)=>e.jsx(t,{href:a.url,className:`btn btn-sm ${a.active?"btn-primary":"btn-outline-primary"} mx-1`,dangerouslySetInnerHTML:{__html:a.label},preserveState:!0,preserveScroll:!0},d))}),e.jsxs("table",{className:"table table-striped table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"bg-success-subtle",children:"ID"}),e.jsx("th",{className:"bg-success-subtle",children:"日付"}),e.jsx("th",{className:"bg-success-subtle",children:"借方名"}),e.jsx("th",{className:"bg-success-subtle",children:"借方金額"}),e.jsx("th",{className:"bg-danger-subtle",children:"貸方名"}),e.jsx("th",{className:"bg-danger-subtle",children:"貸方金額"}),e.jsx("th",{className:"bg-danger-subtle",children:"備考"}),e.jsx("th",{}),e.jsx("th",{})]})}),e.jsx("tbody",{children:c.data.map((a,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:d+1}),e.jsx("td",{children:a.date}),e.jsx("td",{children:a.kari_name.length>10?`${a.kari_name.slice(0,10)}...`:a.kari_name}),e.jsx("td",{children:a.kari_price}),e.jsx("td",{children:a.kashi_name.length>10?`${a.kashi_name.slice(0,10)}...`:a.kashi_name}),e.jsx("td",{children:a.kashi_price}),e.jsx("td",{children:a.remarks.length>10?`${a.remarks.slice(0,10)}...`:a.remarks}),e.jsx("td",{children:e.jsx(t,{href:route("edit",{id:a.id}),className:"btn btn-success btn-sm",children:"更新"})}),e.jsx("td",{children:e.jsx(t,{href:route("delete",{id:a.id}),className:"btn btn-danger btn-sm",onClick:p=>{p.preventDefault(),window.confirm("本当に削除しますか？")&&(window.location.href=route("delete",{id:a.id}))},children:"削除"})})]},d))})]})]})]})})};export{y as default};
