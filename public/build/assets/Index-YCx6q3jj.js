import{W as b,j as e,a as c}from"./app-CZ1frffn.js";import{H as _}from"./Header.Layout-xkRuOFz_.js";import{F as j}from"./FormSelect-C9-D_l8Q.js";import{F as n}from"./FormInputField-yOO1rKkr.js";import{F as k}from"./FlashMessage-Dbgo0qEQ.js";const F=({kari_names:i,sortings:h})=>{const{data:r,setData:d,post:o,processing:p,errors:s}=b({day:"",kari_name_id:"",kari_price:"",kashi_name_id:"",kashi_price:"",remarks:""}),u=a=>{a.preventDefault(),o(route("sorting"))};return e.jsx(_,{className:"bg-primary text-bg-primary",children:e.jsxs("div",{className:"container p-5",children:[e.jsx(k,{}),e.jsx("h2",{children:"複式簿記"}),e.jsxs("form",{onSubmit:u,children:[e.jsx("table",{className:"table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"day",children:"取引日時"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.day&&e.jsx("dd",{className:"text-danger",children:s.day})]}),e.jsx("td",{children:e.jsx(n,{type:"date",name:"day",id:"day",value:r.day,onChange:a=>d("day",a.target.value)})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kari_name_id",children:"借方名"}),e.jsx("span",{className:"required text-danger",children:"* "}),s.kari_name_id&&e.jsx("dd",{className:"text-danger",children:s.kari_name_id})]}),e.jsx("td",{children:e.jsx(j,{className:"form-control form-control-sm",name:"kari_name_id",value:r.kari_name_id,onChange:a=>d("kari_name_id",a.target.value),options:i.map(a=>({value:a.id,label:a.name}))})}),e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kashi_name",children:"貸方名"}),e.jsx("span",{className:"required text-danger",children:"* "}),s.kashi_name_id&&e.jsx("dd",{className:"text-danger",children:s.kashi_name_id})]}),e.jsx("td",{children:e.jsx(j,{className:"form-control form-control-sm",name:"kashi_name_id",value:r.kashi_name_id,onChange:a=>d("kashi_name_id",a.target.value),options:i.map(a=>({value:a.id,label:a.name}))})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kari_price",children:"借方金額"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.kari_price&&e.jsx("dd",{className:"text-danger",children:s.kari_price})]}),e.jsx("td",{children:e.jsx(n,{type:"number",name:"kari_price",placeholder:"1000",value:r.kari_price,onChange:a=>d("kari_price",a.target.value)})}),e.jsxs("td",{children:[e.jsx("label",{htmlFor:"kashi_price",children:"貸方金額"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.kashi_price&&e.jsx("dd",{className:"text-danger",children:s.kashi_price})]}),e.jsx("td",{children:e.jsx(n,{type:"number",name:"kashi_price",placeholder:"1000",value:r.kashi_price,onChange:a=>d("kashi_price",a.target.value)})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("label",{htmlFor:"remarks",children:"備考"}),e.jsx("span",{className:"required text-danger",children:"*"}),s.remarks&&e.jsx("dd",{className:"text-danger",children:s.remarks})]}),e.jsx("td",{children:e.jsx(n,{type:"text",name:"remarks",placeholder:"〇月家賃",value:r.remarks,onChange:a=>d("remarks",a.target.value)})})]})]})}),e.jsx("div",{className:"",children:e.jsx("div",{className:""})}),e.jsx("button",{type:"submit",className:"btn btn-primary px-4",disabled:p,children:"送信"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{children:"仕分け一覧"}),e.jsx("div",{className:"pagination py-2",children:h.links.map((a,t)=>e.jsx(c,{href:a.url,className:`btn btn-sm ${a.active?"btn-primary":"btn-outline-primary"} mx-1`,dangerouslySetInnerHTML:{__html:a.label},preserveState:!0,preserveScroll:!0},t))}),e.jsxs("table",{className:"table table-striped table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"bg-success-subtle",children:"ID"}),e.jsx("th",{className:"bg-success-subtle",children:"日付"}),e.jsx("th",{className:"bg-success-subtle",children:"借方名"}),e.jsx("th",{className:"bg-success-subtle",children:"借方金額"}),e.jsx("th",{className:"bg-danger-subtle",children:"貸方名"}),e.jsx("th",{className:"bg-danger-subtle",children:"貸方金額"}),e.jsx("th",{className:"bg-danger-subtle",children:"備考"}),e.jsx("th",{}),e.jsx("th",{})]})}),e.jsx("tbody",{children:h.data.map((a,t)=>{var m,x;return e.jsxs("tr",{children:[e.jsx("td",{children:t+1}),e.jsx("td",{children:a.date}),e.jsx("td",{children:(m=i.find(l=>l.id===a.kari_name_id))==null?void 0:m.name}),e.jsx("td",{children:a.kari_price}),e.jsx("td",{children:(x=i.find(l=>l.id===a.kashi_name_id))==null?void 0:x.name}),e.jsx("td",{children:a.kashi_price}),e.jsx("td",{children:a.remarks.length>10?`${a.remarks.slice(0,10)}...`:a.remarks}),e.jsx("td",{children:e.jsx(c,{href:route("edit",{id:a.id}),className:"btn btn-success btn-sm",children:"更新"})}),e.jsx("td",{children:e.jsx(c,{href:route("delete",{id:a.id}),className:"btn btn-danger btn-sm",onClick:l=>{l.preventDefault(),window.confirm("本当に削除しますか？")&&(window.location.href=route("delete",{id:a.id}))},children:"削除"})})]},t)})})]})]})]})})};export{F as default};
